<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-document-viewer@1.1.0/dist/ddv.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/dynamsoft-document-viewer@1.1.0/dist/ddv.css">
    <title>Image Filter</title>
    <style>
      #container {
        width: 100%;
        height: 450px;
      }
    </style>
    <script type="module">
      import { ImageFilterHandler } from 'https://cdn.jsdelivr.net/npm/image-filter-js/dist/image-filter.js';
      window["ImageFilterHandler"] = ImageFilterHandler;
      
    </script>
  </head>
  <body>
    <div class="home">
      <h2>Image Filter</h2>
      <div id="status">Loading Dynamsoft Document Viewer...</div>
      <div id="container"></div>
    </div>
    <script>
      let editViewer;

      window.onload = function (){
        initDDV();
      }

      async function initDDV(){
        Dynamsoft.DDV.Core.license = "DLS2eyJoYW5kc2hha2VDb2RlIjoiMjAwMDAxLTE2NDk4Mjk3OTI2MzUiLCJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSIsInNlc3Npb25QYXNzd29yZCI6IndTcGR6Vm05WDJrcEQ5YUoifQ=="; // Public trial license which is valid for 24 hours
        Dynamsoft.DDV.Core.engineResourcePath = "https://cdn.jsdelivr.net/npm/dynamsoft-document-viewer@1.1.0/dist/engine";// Lead to a folder containing the distributed WASM files
        await Dynamsoft.DDV.Core.loadWasm();
        await Dynamsoft.DDV.Core.init(); 
        let filterHandler = new ImageFilterHandler();
        // Configure image filter feature
        Dynamsoft.DDV.setProcessingHandler("imageFilter", filterHandler);
        // Create an edit viewer
        editViewer = new Dynamsoft.DDV.EditViewer({
          container: "container",
        });
        document.getElementById("status").innerText = "Ready.";
      }
    </script>
  </body>
</html>
